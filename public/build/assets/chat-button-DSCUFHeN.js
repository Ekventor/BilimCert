import{r as a,j as e}from"./app-C-isWeLN.js";import{u as v,T as o}from"./TranslatedText-Ctm73hXd.js";function L(){const{t:r}=v(),[n,c]=a.useState(!1),[h,m]=a.useState([{id:"1",text:"chat.welcomeMessage",sender:"bot",timestamp:new Date}]),[l,f]=a.useState(""),[g,p]=a.useState(!1),d=a.useRef(null),u=a.useRef(null);a.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[h]),a.useEffect(()=>{function t(s){u.current&&!u.current.contains(s.target)&&c(!1)}return n&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[n]);const w=()=>{if(l.trim()==="")return;const t={id:Date.now().toString(),text:l,sender:"user",timestamp:new Date};m(x=>[...x,t]),f(""),p(!0);const s=l.toLowerCase();let i="chat.responses.general";s.includes("help")||s.includes("assist")||s.includes("support")?i="chat.responses.help":s.includes("contact")||s.includes("email")||s.includes("phone")||s.includes("call")?i="chat.responses.contact":s.includes("info")||s.includes("about")||s.includes("what")||s.includes("how")?i="chat.responses.info":(s.includes("apply")||s.includes("application")||s.includes("submit"))&&(i="chat.responses.apply"),setTimeout(()=>{const x={id:Date.now().toString(),text:i,sender:"bot",timestamp:new Date};m(j=>[...j,x]),p(!1)},1e3)},b=t=>t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>c(!n),className:"fixed bottom-6 right-6 z-[1000] flex h-14 w-14 items-center justify-center rounded-full bg-[#FF6600] text-white shadow-xl hover:bg-[#FF7F00] focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:ring-offset-2 transition-all duration-300 animate-pulse-slow","aria-label":r("chat.toggleChat"),style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15), 0 0 0 4px rgba(255, 102, 0, 0.1)",transform:n?"scale(1.1)":"scale(1)"},children:n?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),n&&e.jsxs("div",{ref:u,className:"fixed bottom-24 right-6 z-[1000] w-80 sm:w-96 rounded-lg bg-white shadow-xl border border-gray-200 flex flex-col transition-all duration-300 animate-fade-in",style:{maxHeight:"calc(100vh - 150px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"flex items-center justify-between bg-[#003366] text-white p-4 rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-white/20 flex items-center justify-center mr-3",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),e.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:e.jsx(o,{textKey:"chat.title"})}),e.jsx("p",{className:"text-xs text-white/80",children:e.jsx(o,{textKey:"chat.subtitle"})})]})]}),e.jsx("button",{onClick:()=>c(!1),className:"text-white/80 hover:text-white","aria-label":r("chat.close"),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",style:{maxHeight:"350px"},children:[h.map(t=>e.jsx("div",{className:`mb-4 flex ${t.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${t.sender==="user"?"bg-[#003366] text-white":"bg-white border border-gray-200 text-gray-800 shadow-sm"}`,children:[t.sender==="bot"?e.jsx(o,{textKey:t.text}):e.jsx("span",{children:t.text}),e.jsx("div",{className:`text-xs mt-1 ${t.sender==="user"?"text-white/70":"text-gray-500"}`,children:b(t.timestamp)})]})},t.id)),g&&e.jsx("div",{className:"flex justify-start mb-4",children:e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2 max-w-[80%]",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),e.jsx("div",{ref:d})]}),e.jsxs("div",{className:"p-3 border-t border-gray-200",children:[e.jsxs("form",{onSubmit:t=>{t.preventDefault(),w()},className:"flex items-center",children:[e.jsx("input",{type:"text",value:l,onChange:t=>f(t.target.value),placeholder:r("chat.inputPlaceholder"),className:"flex-1 rounded-l-md border-gray-300 focus:border-[#003366] focus:ring focus:ring-[#003366] focus:ring-opacity-50 min-h-[44px] px-4 text-gray-800","aria-label":r("chat.inputLabel")}),e.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-r-md bg-[#003366] px-4 py-2 text-white hover:bg-[#002244] focus:outline-none focus:ring-2 focus:ring-[#003366] focus:ring-offset-2 min-h-[44px]","aria-label":r("chat.send"),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:e.jsx(o,{textKey:"chat.disclaimer"})})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out forwards;
        }
        @keyframes pulse-slow {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.05); }
        }
        .animate-pulse-slow {
          animation: pulse-slow 3s ease-in-out infinite;
        }
      `})]})}export{L as C};
