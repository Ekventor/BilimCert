import{r as c,j as e}from"./app-C-isWeLN.js";import{u as k,T as r}from"./TranslatedText-Ctm73hXd.js";function S(){const{t:n}=k(),[a,m]=c.useState({fullName:"",email:"",phone:"",documentType:"",country:"",institution:"",graduationYear:"",additionalInfo:"",documents:[]}),[s,u]=c.useState({}),[p,f]=c.useState(!1),[b,x]=c.useState("idle"),g=[{value:"diploma",label:n("applicationForm.documentTypes.diploma")},{value:"certificate",label:n("applicationForm.documentTypes.certificate")},{value:"transcript",label:n("applicationForm.documentTypes.transcript")}],j=[{value:"kz",label:"Kazakhstan"},{value:"ru",label:"Russia"},{value:"us",label:"United States"},{value:"uk",label:"United Kingdom"},{value:"de",label:"Germany"},{value:"fr",label:"France"},{value:"cn",label:"China"},{value:"jp",label:"Japan"}],h=new Date().getFullYear(),v=Array.from({length:h-1949},(t,l)=>({value:String(h-l),label:String(h-l)})),o=t=>{const{name:l,value:i}=t.target;m(d=>({...d,[l]:i})),s[l]&&u(d=>({...d,[l]:void 0}))},y=t=>{if(t.target.files){const l=Array.from(t.target.files);m(i=>({...i,documents:[...i.documents,...l]})),s.documents&&u(i=>({...i,documents:void 0}))}},N=t=>{m(l=>({...l,documents:l.documents.filter((i,d)=>d!==t)}))},w=()=>{const t={};return a.fullName.trim()||(t.fullName=n("validation.required")),a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(t.email=n("validation.email")):t.email=n("validation.required"),a.phone.trim()?/^\+?[0-9\s-()]{8,20}$/.test(a.phone)||(t.phone=n("validation.phone")):t.phone=n("validation.required"),a.documentType||(t.documentType=n("validation.required")),a.country||(t.country=n("validation.required")),a.institution.trim()||(t.institution=n("validation.required")),a.graduationYear||(t.graduationYear=n("validation.required")),a.documents.length===0&&(t.documents=n("validation.documents")),u(t),Object.keys(t).length===0},F=async t=>{if(t.preventDefault(),!!w()){f(!0),x("idle");try{await new Promise(l=>setTimeout(l,1500)),x("success"),m({fullName:"",email:"",phone:"",documentType:"",country:"",institution:"",graduationYear:"",additionalInfo:"",documents:[]})}catch(l){console.error("Error submitting form:",l),x("error")}finally{f(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-[#003366]",children:e.jsx(r,{textKey:"applicationForm.title"})}),e.jsx("p",{className:"text-gray-600",children:e.jsx(r,{textKey:"recognition.application.description"})}),b==="success"&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 rounded-md p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:e.jsx(r,{textKey:"applicationForm.successMessage"})})]})}),b==="error"&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 rounded-md p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{children:e.jsx(r,{textKey:"applicationForm.errorMessage"})})]})}),e.jsxs("form",{onSubmit:F,className:"space-y-6 bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(r,{textKey:"applicationForm.fullName"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",id:"fullName",name:"fullName",value:a.fullName,onChange:o,className:`block w-full rounded-md shadow-sm sm:text-sm ${s.fullName?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),s.fullName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.fullName})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(r,{textKey:"applicationForm.email"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:o,className:`block w-full rounded-md shadow-sm sm:text-sm ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(r,{textKey:"applicationForm.phone"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:o,className:`block w-full rounded-md shadow-sm sm:text-sm ${s.phone?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),s.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"documentType",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(r,{textKey:"applicationForm.documentType"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{id:"documentType",name:"documentType",value:a.documentType,onChange:o,className:`block w-full rounded-md shadow-sm sm:text-sm ${s.documentType?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,children:[e.jsx("option",{value:"",children:"-- Select Document Type --"}),g.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),s.documentType&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.documentType})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(r,{textKey:"applicationForm.country"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{id:"country",name:"country",value:a.country,onChange:o,className:`block w-full rounded-md shadow-sm sm:text-sm ${s.country?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,children:[e.jsx("option",{value:"",children:"-- Select Country --"}),j.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),s.country&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.country})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"institution",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(r,{textKey:"applicationForm.institution"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",id:"institution",name:"institution",value:a.institution,onChange:o,className:`block w-full rounded-md shadow-sm sm:text-sm ${s.institution?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),s.institution&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.institution})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"graduationYear",className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(r,{textKey:"applicationForm.graduationYear"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{id:"graduationYear",name:"graduationYear",value:a.graduationYear,onChange:o,className:`block w-full rounded-md shadow-sm sm:text-sm ${s.graduationYear?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,children:[e.jsx("option",{value:"",children:"-- Select Year --"}),v.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),s.graduationYear&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.graduationYear})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"additionalInfo",className:"block text-sm font-medium text-gray-700 mb-1",children:e.jsx(r,{textKey:"applicationForm.additionalInfo"})}),e.jsx("textarea",{id:"additionalInfo",name:"additionalInfo",rows:4,value:a.additionalInfo,onChange:o,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(r,{textKey:"applicationForm.uploadDocuments"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[e.jsx("span",{children:"Upload files"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,onChange:y})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG up to 10MB"})]})}),s.documents&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.documents}),a.documents.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Uploaded Files:"}),e.jsx("ul",{className:"divide-y divide-gray-200 border border-gray-200 rounded-md",children:a.documents.map((t,l)=>e.jsxs("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"w-0 flex-1 flex items-center",children:[e.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:t.name})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{type:"button",onClick:()=>N(l),className:"font-medium text-red-600 hover:text-red-500",children:"Remove"})})]},l))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#003366] hover:bg-[#002244] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx(r,{textKey:"common.processing"})]}):e.jsx(r,{textKey:"applicationForm.submit"})})})]})]})}export{S as ApplicationFormSection};
